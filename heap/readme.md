# 힙 이란
컴퓨터 프로그램이 프로세스화 될 때 힙과 스택이 생긴다는 말은 들어봤을 것이다.  
스택이야 너무많이 봐서 그렇다 치고, 힙이 갑작스럽게 생소하게 느껴졌다.    

## 힙의 정의  
### 힙은 최댓값 및 최솟값을 찾아내는 연산을 빠르게 하기 위해 고안된 완전이진트리를 기본으로 한 자료구조로, 다음의 조건을 만족하면 힙이다.
모든 자식 노드(C)의 값이 모든 부모 노드(P)의 값보다 [작아/커]야한다.    // 작으면 max heap, 크면 min heap 이다.   
즉 루트노드(제일 위쪽 부모노드)가 max 값이면 max heap, min값이면 min heap이다.  
(어차피 min heap이나 max heap이나 구현 거의 같고 부등호만 다르면 되므로 max heap 을 기준으로 이후부터 설명)    

## 힙의 주된 쓰임새  
이 힙이 어디에 쓰이느냐? 하면 '우선순위 큐(priority queue) '를 구현 할 때 가장 효율적인 데이터 구조라고 한다.  
애초에 정의만 봐도, 이 힙이 최대값을 쉽게 뽑을 수 있도록 고안 된 것을 알 수 있다.  
  
  
# 프로세스의 힙과 데이터 구조의 힙  
데이터의 크기가 예측 되지 않고, create/delete 가 자주 일어나는 데이터를 프로세스에서 heap이라는 이름의 공간에 저장한다.  
프로그램이 프로세스에서 돌아갈 때 heap과 스택이 생기는데 이 heap이 지금 설명하는 heap이다.  
  
이 프로세스의 힙과 데이터구조의 힙은 이름이 같으나 전혀 다른 경우가 거의 대부분이다.   
프로세스의 힙은 linked list로 관리되며 필요한 공간이 있을 때마다 이 리스트를 돌면서 공간을 할당하고 리스트를 다시 생성하는 방식이 가장 기본적인 방식이다.  
  
데이터 구조의 힙은 링크드 리스트보다는 배열과 함수(메소드)로 이루어져 있다.    

  
## 프로세스의 힙  
프로세스는 운영체제(유저가 설정 변경가능)가 정해준 스택과 힙의 기본 크기를 가지고 프로그램이 실행 될 때 생성된다.  
(이 크기는 스택은 정해진 크기를 넘으면 에러가 나고, 힙은 운영체제에 계속 요청해서 램과 스왑메모리의 한계치 까지 계속 만들 수 있다. 
다만 다른 원인으로 에러떠서 이론보다 적게 생성되기도함.)  
유저모드에서 이 힙을 통해 메모리 할당이 가능하며, 기본 크기가 넘어가면 커널모드 함수를 호출하여 크기를 늘리던가 아니면 에러가 나는 식으로 작동한다.  
  
# 데이터 구조의 힙  
만들어진 모습에서 볼 수 있듯이, priority queue 로 쓰이는 경우가 많다.  
이는 결국, 가장 큰값이 데이터에서 빠져나와야 하는 경우가 많고, 새로운 값이 추가 될 때 내부 정렬이 빠르게 되야 할 때 쓰인다.  
  
  
## 힙의 강점  
```  the main advantage of using the heap is its flexibility ```  
최대값을 뽑을때 O(1)  
insert 할 때 O(log n)  
delete 할 때 O(log n)  
sort 할 때 O(nlogn)  
  
sort 시에도 big O 에서 nlogn이라는 안정적인 빠른 속도가 가능하고, insert delete도 빠른 편이다.  






